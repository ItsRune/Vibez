"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[263],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>k});var r=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=r.createContext({}),m=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},d=function(e){var t=m(e.components);return r.createElement(s.Provider,{value:t},e.children)},u="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},c=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,s=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),u=m(n),c=a,k=u["".concat(s,".").concat(c)]||u[c]||p[c]||o;return n?r.createElement(k,i(i({ref:t},d),{},{components:n})):r.createElement(k,i({ref:t},d))}));function k(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,i=new Array(o);i[0]=c;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[u]="string"==typeof e?e:a,i[1]=l;for(var m=2;m<o;m++)i[m]=n[m];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}c.displayName="MDXCreateElement"},81732:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>p,frontMatter:()=>o,metadata:()=>l,toc:()=>m});var r=n(87462),a=(n(67294),n(3905));const o={sidebar_position:3},i="Argument Prefixes",l={unversionedId:"Features/Commands/Command Operation Codes",id:"Features/Commands/Command Operation Codes",title:"Argument Prefixes",description:"Note: This is considered an advanced tutorial, if you don't understand lua/luau, I would not recommend attempting to create your own prefixes!",source:"@site/docs/Features/Commands/Command Operation Codes.md",sourceDirName:"Features/Commands",slug:"/Features/Commands/Command Operation Codes",permalink:"/VibezAPI/docs/Features/Commands/Command Operation Codes",draft:!1,editUrl:"https://github.com/ItsRune/VibezAPI/edit/master/docs/Features/Commands/Command Operation Codes.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"defaultSidebar",previous:{title:"Adding Commands",permalink:"/VibezAPI/docs/Features/Commands/Adding Commands"},next:{title:"Application Center",permalink:"/VibezAPI/docs/Centers/Application Center"}},s={},m=[{value:"What are argument prefixes?",id:"what-are-argument-prefixes",level:3},{value:"Default Codes",id:"default-codes",level:3},{value:"How do they work?",id:"how-do-they-work",level:3},{value:"How to use",id:"how-to-use",level:3},{value:"How to remove operation codes",id:"how-to-remove-operation-codes",level:3}],d={toc:m},u="wrapper";function p(e){let{components:t,...n}=e;return(0,a.kt)(u,(0,r.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"argument-prefixes"},"Argument Prefixes"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Note: This is considered an advanced tutorial, if you don't understand lua/luau, I would not recommend attempting to create your own prefixes!")),(0,a.kt)("h3",{id:"what-are-argument-prefixes"},"What are argument prefixes?"),(0,a.kt)("p",null,"Argument prefixes are ",(0,a.kt)("inlineCode",{parentName:"p"},"shorteners")," that allow you to use less characters when using commands. For example, instead of saying ",(0,a.kt)("inlineCode",{parentName:"p"},'game.Teams["myTeam"]')," as a command argument, you can send ",(0,a.kt)("inlineCode",{parentName:"p"},"#myTeam"),". Operation codes can be anything you'd like, as long as they don't conflict with any other operation codes. We'd also recommend not using ",(0,a.kt)("inlineCode",{parentName:"p"},"commas")," as your operation code, as it will conflict with the existing argument separator."),(0,a.kt)("hr",null),(0,a.kt)("h3",{id:"default-codes"},"Default Codes"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:"center"},"Name"),(0,a.kt)("th",{parentName:"tr",align:"center"},"Prefix"),(0,a.kt)("th",{parentName:"tr",align:"center"},"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"center"},"Team"),(0,a.kt)("td",{parentName:"tr",align:"center"},(0,a.kt)("inlineCode",{parentName:"td"},"%")),(0,a.kt)("td",{parentName:"tr",align:"center"},"Checks for a given team name")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"center"},"Rank"),(0,a.kt)("td",{parentName:"tr",align:"center"},(0,a.kt)("inlineCode",{parentName:"td"},"r:")),(0,a.kt)("td",{parentName:"tr",align:"center"},"Checks the player's rank with a tolerance")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"center"},"shortenedUsername"),(0,a.kt)("td",{parentName:"tr",align:"center"},"None"),(0,a.kt)("td",{parentName:"tr",align:"center"},"Checks for a portion of a player's username")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"center"},"External"),(0,a.kt)("td",{parentName:"tr",align:"center"},(0,a.kt)("inlineCode",{parentName:"td"},"e:")),(0,a.kt)("td",{parentName:"tr",align:"center"},"Gets a player that is not in the server")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"center"},"UserId"),(0,a.kt)("td",{parentName:"tr",align:"center"},(0,a.kt)("inlineCode",{parentName:"td"},"id:")),(0,a.kt)("td",{parentName:"tr",align:"center"},"Gets a player that is not in the server")))),(0,a.kt)("hr",null),(0,a.kt)("h3",{id:"how-do-they-work"},"How do they work?"),(0,a.kt)("p",null,"Argument prefixes work by first splitting the sent command, then checking if the first argument is an existing prefix. If it is, it will run the prefix's function and return the result. If it isn't, it will return the command argument as is."),(0,a.kt)("hr",null),(0,a.kt)("h3",{id:"how-to-use"},"How to use"),(0,a.kt)("p",null,"To create a new operation code, you'll use the ",(0,a.kt)("inlineCode",{parentName:"p"},":addArgumentPrefix")," method. This method takes ",(0,a.kt)("strong",{parentName:"p"},"three arguments"),": the operation name, the operation prefix, and the operation function. The operation function must return a ",(0,a.kt)("inlineCode",{parentName:"p"},"boolean")," value, if it does not the operation will not work."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-lua"},'local VibezAPI = require(14946453963)("myApiKey")\n\nVibezAPI:addArgumentPrefix("Rank", "r:", function(playerToCheck: Player, incomingArgument: string)\n    -- Operation code is automatically removed from the \'incomingArgument\'.\n    -- incomeArgument would look something like this: "3:<="\n    local rank, tolerance = table.unpack(string.split(incomingArgument, ":"))\n    \n    -- Make sure the rank is a number.\n    if not tonumber(rank) then\n        return false\n    end\n\n    -- Make sure the tolerance is a valid tolerance.\n    tolerance = tolerance or "<="\n\n    -- Convert \'rank\' to a number.\n    rank = tonumber(rank)\n\n    -- \'GetRankInGroup\' caches when it\'s first called, this will not update if their rank changes.\n    local isOk, currentPlayerRank = pcall(\n        playerToCheck.GetRankInGroup,\n        playerToCheck,\n        rank\n    )\n    \n    -- Make sure the player is in the group and their rank was fetched.\n    if not isOk or currentPlayerRank == 0 then\n        return false\n    end\n\n    -- Check the tolerances\n    if tolerance == "<=" then\n        return currentPlayerRank <= rank\n    elseif tolerance == ">=" then\n        return currentPlayerRank >= rank\n    elseif tolerance == "<" then\n        return currentPlayerRank < rank\n    elseif tolerance == ">" then\n        return currentPlayerRank > rank\n    elseif tolerance == "==" then\n        return currentPlayerRank == rank\n    end\n\n    -- If the tolerance is invalid, return false.\n    return false\nend)\n')),(0,a.kt)("p",null,"Now, you can use the operation code in your commands: ",(0,a.kt)("inlineCode",{parentName:"p"},"!promote r:3:<=")),(0,a.kt)("hr",null),(0,a.kt)("h3",{id:"how-to-remove-operation-codes"},"How to remove operation codes"),(0,a.kt)("p",null,"To remove an operation code, you'll use the ",(0,a.kt)("inlineCode",{parentName:"p"},":removeArgumentPrefix")," method. This method takes ",(0,a.kt)("strong",{parentName:"p"},"one argument"),": the operation name. If you don't like how one operation code performs that was made by us, you can simply remove it."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-lua"},'VibezAPI:removeArgumentPrefix("Rank") -- Removes the default rank operation code.\n')))}p.isMDXComponent=!0}}]);