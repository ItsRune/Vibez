"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[859],{3905:(e,a,t)=>{t.d(a,{Zo:()=>p,kt:()=>g});var n=t(67294);function l(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function r(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function o(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?r(Object(t),!0).forEach((function(a){l(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function i(e,a){if(null==e)return{};var t,n,l=function(e,a){if(null==e)return{};var t,n,l={},r=Object.keys(e);for(n=0;n<r.length;n++)t=r[n],a.indexOf(t)>=0||(l[t]=e[t]);return l}(e,a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)t=r[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}var s=n.createContext({}),u=function(e){var a=n.useContext(s),t=a;return e&&(t="function"==typeof e?e(a):o(o({},a),e)),t},p=function(e){var a=u(e.components);return n.createElement(s.Provider,{value:a},e.children)},c="mdxType",k={inlineCode:"code",wrapper:function(e){var a=e.children;return n.createElement(n.Fragment,{},a)}},d=n.forwardRef((function(e,a){var t=e.components,l=e.mdxType,r=e.originalType,s=e.parentName,p=i(e,["components","mdxType","originalType","parentName"]),c=u(t),d=l,g=c["".concat(s,".").concat(d)]||c[d]||k[d]||r;return t?n.createElement(g,o(o({ref:a},p),{},{components:t})):n.createElement(g,o({ref:a},p))}));function g(e,a){var t=arguments,l=a&&a.mdxType;if("string"==typeof e||l){var r=t.length,o=new Array(r);o[0]=d;var i={};for(var s in a)hasOwnProperty.call(a,s)&&(i[s]=a[s]);i.originalType=e,i[c]="string"==typeof e?e:l,o[1]=i;for(var u=2;u<r;u++)o[u]=t[u];return n.createElement.apply(null,o)}return n.createElement.apply(null,t)}d.displayName="MDXCreateElement"},59812:(e,a,t)=>{t.r(a),t.d(a,{assets:()=>s,contentTitle:()=>o,default:()=>k,frontMatter:()=>r,metadata:()=>i,toc:()=>u});var n=t(87462),l=(t(67294),t(3905));const r={sidebar_position:6},o="Global API",i={unversionedId:"Features/Global",id:"Features/Global",title:"Global API",description:"What is a global API?",source:"@site/docs/Features/Global.md",sourceDirName:"Features",slug:"/Features/Global",permalink:"/VibezAPI/docs/Features/Global",draft:!1,editUrl:"https://github.com/ItsRune/VibezAPI/edit/master/docs/Features/Global.md",tags:[],version:"current",sidebarPosition:6,frontMatter:{sidebar_position:6},sidebar:"defaultSidebar",previous:{title:"Notifications",permalink:"/VibezAPI/docs/Features/Notifications"},next:{title:"Binding Actions",permalink:"/VibezAPI/docs/Features/Binding Actions"}},s={},u=[{value:"What is a global API?",id:"what-is-a-global-api",level:3},{value:"How do I use a global API?",id:"how-do-i-use-a-global-api",level:3},{value:"Is there an easier method to fetching the global API?",id:"is-there-an-easier-method-to-fetching-the-global-api",level:3},{value:"What global APIs are available?",id:"what-global-apis-are-available",level:2},{value:"Ranking",id:"ranking",level:3},{value:"Activity",id:"activity",level:3},{value:"Hooks",id:"hooks",level:3},{value:"Notifications",id:"notifications",level:3},{value:"General",id:"general",level:3},{value:"Examples",id:"examples",level:2}],p={toc:u},c="wrapper";function k(e){let{components:a,...t}=e;return(0,l.kt)(c,(0,n.Z)({},p,t,{components:a,mdxType:"MDXLayout"}),(0,l.kt)("h1",{id:"global-api"},"Global API"),(0,l.kt)("h3",{id:"what-is-a-global-api"},"What is a global API?"),(0,l.kt)("p",null,"The global API is a set of functions that can be accessed from any script within your game. This is more efficient than having to create a new API for each script that needs to access the same data."),(0,l.kt)("h3",{id:"how-do-i-use-a-global-api"},"How do I use a global API?"),(0,l.kt)("p",null,"Our global API is located withing Roblox's 'ServerStorage' service. You can find it by using the 'getGlobalsForKey' method from the Vibez module. This method will return the global API associated to that api key."),(0,l.kt)("h3",{id:"is-there-an-easier-method-to-fetching-the-global-api"},"Is there an easier method to fetching the global API?"),(0,l.kt)("p",null,"Yes! If your script has direct access to the module, you can use ",(0,l.kt)("inlineCode",{parentName:"p"},".awaitGlobals()")," to wait for the global APIs to load. This is useful if you're unsure if the global APIs have loaded yet."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-lua"},'local Vibez = require(14946453963)\nlocal globalsAPI = Vibez.getGlobalsForKey("myApiKey")\n')),(0,l.kt)("hr",null),(0,l.kt)("h2",{id:"what-global-apis-are-available"},"What global APIs are available?"),(0,l.kt)("h3",{id:"ranking"},"Ranking"),(0,l.kt)("a",{href:"#ranking/promote"},(0,l.kt)("h3",null,"Promote")),"Increments a player's rank by 1.",(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"userId: number")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-lua",metastring:'title="ServerScriptService/ExampleScript.server.lua"',title:'"ServerScriptService/ExampleScript.server.lua"'},"globalsAPI.Ranking.Promote:Invoke(1)\n")),(0,l.kt)("a",{href:"#ranking/demote"},(0,l.kt)("h3",null,"Demote")),"Decrements a player's rank by 1.",(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"userId: number")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-lua"},"globalsAPI.Ranking.Demote:Invoke(1)\n")),(0,l.kt)("a",{href:"#ranking/setrank"},(0,l.kt)("h3",null,"setRank")),"Sets a player's rank to a specific rank.",(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"userId: number")," ",(0,l.kt)("br",null),"\n",(0,l.kt)("inlineCode",{parentName:"p"},"rank: number | string")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-lua"},"globalsAPI.Ranking.setRank:Invoke(1, 2)\n")),(0,l.kt)("hr",null),(0,l.kt)("h3",{id:"activity"},"Activity"),(0,l.kt)("a",{href:"#activity/get"},(0,l.kt)("h3",null,"getActivity")),"Gets the activity of a player.",(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"userId: number")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-lua"},"globalsAPI.Activity.Fetch:Invoke(1)\n")),(0,l.kt)("a",{href:"#activity/save"},(0,l.kt)("h3",null,"saveActivity")),"Gets the activity of a player.",(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"userId: number")," ",(0,l.kt)("br",null),"\n",(0,l.kt)("inlineCode",{parentName:"p"},"userRank: number")," ",(0,l.kt)("br",null),"\n",(0,l.kt)("inlineCode",{parentName:"p"},"seconds: number")," ",(0,l.kt)("br",null),"\n",(0,l.kt)("inlineCode",{parentName:"p"},"messages: number")," ",(0,l.kt)("br",null),"\n",(0,l.kt)("inlineCode",{parentName:"p"},"forceFetchRank: boolean")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-lua"},"globalsAPI.Activity.Save:Invoke(1, 0, 20, 0, false)\n")),(0,l.kt)("hr",null),(0,l.kt)("h3",{id:"hooks"},"Hooks"),(0,l.kt)("a",{href:"#hooks/new"},(0,l.kt)("h3",null,"new")),"Creates a new webhook.",(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"webhook: string")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-lua"},'globalsAPI.Hooks:Invoke("https://discord.com/api/webhooks/")\n')),(0,l.kt)("hr",null),(0,l.kt)("h3",{id:"notifications"},"Notifications"),(0,l.kt)("a",{href:"#notifications/new"},(0,l.kt)("h3",null,"new")),"Creates a notification for a player.",(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"player: Player")," ",(0,l.kt)("br",null),"\n",(0,l.kt)("inlineCode",{parentName:"p"},"message: string")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-lua"},'globalsAPI.Notifications:Invoke(game.Players.ltsRune, "Hello World!")\n')),(0,l.kt)("hr",null),(0,l.kt)("h3",{id:"general"},"General"),(0,l.kt)("a",{href:"#general/getgroup"},(0,l.kt)("h3",null,"getGroup")),"Gets a group from the player's perspective.",(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"player: Player")," ",(0,l.kt)("br",null),"\n",(0,l.kt)("inlineCode",{parentName:"p"},"groupId: number")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-lua"},"globalsAPI.General.getGroup:Invoke(game.Players.ltsRune, 0)\n")),(0,l.kt)("a",{href:"#general/getgrouprank"},(0,l.kt)("h3",null,"getGroupRank")),"Gets a player's group rank.",(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"player: Player")," ",(0,l.kt)("br",null),"\n",(0,l.kt)("inlineCode",{parentName:"p"},"groupId: number")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-lua"},"globalsAPI.General.getGroupRank:Invoke(game.Players.ltsRune, 0)\n")),(0,l.kt)("a",{href:"#general/getgrouprole"},(0,l.kt)("h3",null,"getGroupRole")),"Gets a player's group role.",(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"player: Player")," ",(0,l.kt)("br",null),"\n",(0,l.kt)("inlineCode",{parentName:"p"},"groupId: number")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-lua"},"globalsAPI.General.getGroupRole:Invoke(game.Players.ltsRune, 0)\n")),(0,l.kt)("hr",null),(0,l.kt)("h2",{id:"examples"},"Examples"),(0,l.kt)("p",null,"Here are some examples of how you can use our global APIs:"),(0,l.kt)("details",null,(0,l.kt)("summary",null,"Welcome Message"),(0,l.kt)("br",null),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-lua",metastring:'title="ServerScriptService/Welcome_Message.lua"',title:'"ServerScriptService/Welcome_Message.lua"'},'local function onPlayerAdded(Player: Player)\n    local vibezGlobal = _G["VibezApi"]\n\n    while vibezGlobal == nil do\n        vibezGlobal = _G["VibezApi"]\n        task.wait(.25)\n    end\n\n    vibezGlobal.Notifications.new:Invoke(Player, "Welcome to the game!")\nend\n\ngame:GetService("Players").PlayerAdded:Connect(onPlayerAdded)\n'))),(0,l.kt)("details",null,(0,l.kt)("summary",null,"Join and Leave logger"),(0,l.kt)("br",null),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-lua",metastring:'title="ServerScriptService/Join_Logger_And_Leave_Logger.lua"',title:'"ServerScriptService/Join_Logger_And_Leave_Logger.lua"'},'local Players = game:GetService("Players")\n\nlocal function onPlayerAdded(Player: Player)\n    local vibezGlobal = _G["VibezApi"]\n\n    while vibezGlobal == nil do\n        vibezGlobal = _G["VibezApi"]\n        task.wait(.25)\n    end\n\n    local webHook = vibezGlobal.Hooks.new:Invoke("https://discord.com/api/webhooks/")\n    webHook\n        :setContent(\n            string.format(\n                "[**%s**](<https://www.roblox.com/users/%d/profile>) has joined the game!",\n                Player.Name,\n                Player.UserId\n            )\n        )\n        :Send()\nend\n\nlocal function onPlayerLeft(Player: Player)\n    local vibezGlobal = _G["VibezApi"]\n\n    while vibezGlobal == nil do\n        vibezGlobal = _G["VibezApi"]\n        task.wait(.25)\n    end\n\n    local webHook = vibezGlobal.Hooks.new:Invoke("https://discord.com/api/webhooks/")\n    webHook\n        :setContent(\n            string.format(\n                "[**%s**](<https://www.roblox.com/users/%d/profile>) has left the game!",\n                Player.Name,\n                Player.UserId\n            )\n        )\n        :Send()\nend\n\nPlayers.PlayerAdded:Connect(onPlayerAdded)\nPlayers.PlayerRemoving:Connect(onPlayerLeft)\n'))))}k.isMDXComponent=!0}}]);