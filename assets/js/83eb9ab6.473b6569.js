"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[330],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>m});var o=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,o,a=function(e,t){if(null==e)return{};var n,o,a={},l=Object.keys(e);for(o=0;o<l.length;o++)n=l[o],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)n=l[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=o.createContext({}),d=function(e){var t=o.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},u=function(e){var t=d(e.components);return o.createElement(s.Provider,{value:t},e.children)},h="mdxType",g={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},p=o.forwardRef((function(e,t){var n=e.components,a=e.mdxType,l=e.originalType,s=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),h=d(n),p=a,m=h["".concat(s,".").concat(p)]||h[p]||g[p]||l;return n?o.createElement(m,r(r({ref:t},u),{},{components:n})):o.createElement(m,r({ref:t},u))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var l=n.length,r=new Array(l);r[0]=p;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i[h]="string"==typeof e?e:a,r[1]=i;for(var d=2;d<l;d++)r[d]=n[d];return o.createElement.apply(null,r)}return o.createElement.apply(null,n)}p.displayName="MDXCreateElement"},65041:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>r,default:()=>g,frontMatter:()=>l,metadata:()=>i,toc:()=>d});var o=n(87462),a=(n(67294),n(3905));const l={sidebar_position:8},r=void 0,i={unversionedId:"Logging",id:"Logging",title:"Logging",description:"How do I use the new logging system?",source:"@site/docs/Logging.md",sourceDirName:".",slug:"/Logging",permalink:"/VibezAPI/docs/Logging",draft:!1,editUrl:"https://github.com/ItsRune/VibezAPI/edit/master/docs/Logging.md",tags:[],version:"current",sidebarPosition:8,frontMatter:{sidebar_position:8},sidebar:"defaultSidebar",previous:{title:"Blacklists",permalink:"/VibezAPI/docs/Blacklists"},next:{title:"Activity",permalink:"/VibezAPI/docs/Examples/Activity"}},s={},d=[{value:"How do I use the new logging system?",id:"how-do-i-use-the-new-logging-system",level:3},{value:"What do the default formats look like?",id:"what-do-the-default-formats-look-like",level:3},{value:"How do I change the default formats?",id:"how-do-i-change-the-default-formats",level:3},{value:"Why isn&#39;t it working in studio?",id:"why-isnt-it-working-in-studio",level:3},{value:"Why should I use this method of logging?",id:"why-should-i-use-this-method-of-logging",level:3},{value:"What was the bulky code needed before this update?",id:"what-was-the-bulky-code-needed-before-this-update",level:3}],u={toc:d},h="wrapper";function g(e){let{components:t,...n}=e;return(0,a.kt)(h,(0,o.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h3",{id:"how-do-i-use-the-new-logging-system"},"How do I use the new logging system?"),(0,a.kt)("p",null,"Well, first let's be straight here, it's built into the wrapper. So, that means... Oh you guessed it! It's in the settings! There are currently 3 types of loggers available at the moment:"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:null},"Log Name"),(0,a.kt)("th",{parentName:"tr",align:null},"Description"),(0,a.kt)("th",{parentName:"tr",align:null},"Parameters"),(0,a.kt)("th",{parentName:"tr",align:null},"Has Default"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"Player Joined"),(0,a.kt)("td",{parentName:"tr",align:null},"Logs when a player joins the game."),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"Player")),(0,a.kt)("td",{parentName:"tr",align:null},"Yes")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"Player Left"),(0,a.kt)("td",{parentName:"tr",align:null},"Logs when a player leaves the game."),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"Player")),(0,a.kt)("td",{parentName:"tr",align:null},"Yes")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"Player Message"),(0,a.kt)("td",{parentName:"tr",align:null},"Logs when a player chats in game."),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"Player"),", ",(0,a.kt)("inlineCode",{parentName:"td"},"Message")),(0,a.kt)("td",{parentName:"tr",align:null},"Yes")))),(0,a.kt)("p",null,"So now that you know the why and the how, let's get into the settings. There's 6 new settings for logging. They are as follows:"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("inlineCode",{parentName:"li"},"joinLogWebhook")," - The webhook url to send the join logs to.",(0,a.kt)("ol",{parentName:"li"},(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("inlineCode",{parentName:"li"},"joinLogFormat")," - A function that returns the content and embed of the log. Special Parameter: ",(0,a.kt)("inlineCode",{parentName:"li"},"Player"),"."))),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("inlineCode",{parentName:"li"},"leaveLogWebhook")," - The webhook url to send the leave logs to.",(0,a.kt)("ol",{parentName:"li"},(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("inlineCode",{parentName:"li"},"leaveLogFormat")," - A function that returns the content and embed of the log. Special Parameter: ",(0,a.kt)("inlineCode",{parentName:"li"},"Player"),"."))),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("inlineCode",{parentName:"li"},"messageLogWebhook")," - The webhook url to send the message logs to.",(0,a.kt)("ol",{parentName:"li"},(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("inlineCode",{parentName:"li"},"messageLogFormat")," - A function that returns the content and embed of the log. Special Parameters: ",(0,a.kt)("inlineCode",{parentName:"li"},"Player"),", ",(0,a.kt)("inlineCode",{parentName:"li"},"Message"),".")))),(0,a.kt)("h3",{id:"what-do-the-default-formats-look-like"},"What do the default formats look like?"),(0,a.kt)("h4",null,"Join Logs"),(0,a.kt)("img",{src:"/VibezAPI/joinLogExample.png"}),(0,a.kt)("h4",null,"Leave Logs"),(0,a.kt)("img",{src:"/VibezAPI/leaveLogExample.png"}),(0,a.kt)("h4",null,"Message Logs"),(0,a.kt)("img",{src:"/VibezAPI/messageLogExample.png"}),(0,a.kt)("h3",{id:"how-do-i-change-the-default-formats"},"How do I change the default formats?"),(0,a.kt)("p",null,"Well, it's pretty simple. You just need to change the settings. Here's an example of how to change the message log format:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-lua"},'local Vibez = require(14946453963)("API Key", {\n    messageLogWebhook = "https://discord.com/api/webhooks/",\n\n    messageLogFormat = function(Player, Message, embed)\n        embed\n            :setTitle(Player.Name)\n            :setDescription(Message)\n            :setColor(Color3.fromRGB(0, 255, 255))\n        \n        -- No content to return since we do it all in the embed.\n        return "", embed\n    end\n})\n')),(0,a.kt)("h3",{id:"why-isnt-it-working-in-studio"},"Why isn't it working in studio?"),(0,a.kt)("p",null,"The wrapper will automatically stop logging if it detects that you're in studio. This is to prevent any issues with logging in studio. If you want to test logging in studio, you can change the ",(0,a.kt)("inlineCode",{parentName:"p"},"shouldLogInStudio")," setting to ",(0,a.kt)("inlineCode",{parentName:"p"},"true"),". This will allow you to test logging in studio."),(0,a.kt)("h3",{id:"why-should-i-use-this-method-of-logging"},"Why should I use this method of logging?"),(0,a.kt)("p",null,"Well, there are a few reasons why you should use this method of logging."),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"To begin, this method is much easier and already built in."),(0,a.kt)("li",{parentName:"ol"},"There was a major flaw with allowing group owners/developers handle the logging. Whenever you tried to connect to the ",(0,a.kt)("inlineCode",{parentName:"li"},"Players.PlayerAdded")," event, it wouldn't work. Why? Because the wrapper would be busy trying to validate your api key before it could connect to that event. Which result in bulky code as shown below."),(0,a.kt)("li",{parentName:"ol"},"All though this method has some draw backs which we are exploring in fixing, it's still a much better method than the previous one.")),(0,a.kt)("h3",{id:"what-was-the-bulky-code-needed-before-this-update"},"What was the bulky code needed before this update?"),(0,a.kt)("p",null,"The previous code in the examples looked something like this:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-lua"},'local Players = game:GetService("Players")\nlocal Vibez = require(14946453963)("API Key", {\n    nameOfGameForLogging = "Join Logger"\n})\n\nlocal function onPlayerAdded(Player: Player)\n    local webhook = Vibez:getWebhookBuilder("https://discord.com/api/webhooks/")\n\n    webhook:addEmbedWithBuilder(function(embed)\n        return embed\n            :setTitle(Player.Name)\n            :setDescription(`[{Player.Name}](https://www.roblox.com/users/{Player.UserId}/profile) has joined the game!`)\n            :setColor("0x00ff00") -- Green\n    end)\n\n    webhook:Send()\nend\n\nPlayers.PlayerAdded:Connect(onPlayerAdded)\n')),(0,a.kt)("p",null,"The newer code ended up being like this:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-lua"},'local Players = game:GetService("Players")\nlocal Vibez\n\ncoroutine.wrap(function()\n    Vibez = require(script.Parent.MainModule)("API Key", {\n        nameOfGameForLogging = "Join Logger"\n    })\nend)()\n\nlocal function onPlayerAdded(Player: Player)\n    if not Vibez then\n        repeat task.wait(1) -- BREAK POINT\n        until Vibez ~= nil\n    end\n    local webhook = Vibez:getWebhookBuilder("https://discord.com/api/webhooks/")\n\n    webhook:addEmbedWithBuilder(function(embed)\n        return embed\n            :setTitle(Player.Name)\n            :setDescription(`[{Player.Name}](https://www.roblox.com/users/{Player.UserId}/profile) has joined the game!`)\n            :setColor("0x00ff00") -- Green\n            :setTimestamp()\n    end)\n    webhook:Send()\nend\n\nPlayers.PlayerAdded:Connect(onPlayerAdded)\n')),(0,a.kt)("p",null,"If there was an issue with your key not loading, the loop defined at ",(0,a.kt)("inlineCode",{parentName:"p"},"BREAK POINT")," would infinitely run and never stop. This would cause your game to keep a thread open for no reason. This is why we decided to move the logging to the wrapper itself."))}g.isMDXComponent=!0}}]);