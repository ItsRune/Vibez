"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[8834],{6353:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>t,contentTitle:()=>o,default:()=>h,frontMatter:()=>i,metadata:()=>l,toc:()=>c});const l=JSON.parse('{"id":"Features/Global","title":"Global API","description":"What is a global API?","source":"@site/docs/Features/Global.md","sourceDirName":"Features","slug":"/Features/Global","permalink":"/Vibez/docs/Features/Global","draft":false,"unlisted":false,"editUrl":"https://github.com/ItsRune/Vibez/edit/master/docs/Features/Global.md","tags":[],"version":"current","sidebarPosition":7,"frontMatter":{"sidebar_position":7},"sidebar":"defaultSidebar","previous":{"title":"Notifications","permalink":"/Vibez/docs/Features/Notifications"},"next":{"title":"Binding Actions","permalink":"/Vibez/docs/Features/Binding Actions"}}');var s=r(74848),a=r(28453);const i={sidebar_position:7},o="Global API",t={},c=[{value:"What is a global API?",id:"what-is-a-global-api",level:3},{value:"How do I use a global API?",id:"how-do-i-use-a-global-api",level:3},{value:"Is there an easier method to fetching the global API?",id:"is-there-an-easier-method-to-fetching-the-global-api",level:3},{value:"It doesn&#39;t exist when trying to lookup my api key within ServerStorage.",id:"it-doesnt-exist-when-trying-to-lookup-my-api-key-within-serverstorage",level:3},{value:"What global APIs are available?",id:"what-global-apis-are-available",level:2},{value:"Ranking",id:"ranking",level:3},{value:"ActivityTracker",id:"activitytracker",level:3},{value:"Hooks",id:"hooks",level:3},{value:"Notifications",id:"notifications",level:3},{value:"General",id:"general",level:3},{value:"Blacklists",id:"blacklists",level:3},{value:"Examples",id:"examples",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",p:"p",pre:"pre",...(0,a.R)(),...e.components},{Details:r}=n;return r||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"global-api",children:"Global API"})}),"\n",(0,s.jsx)(n.h3,{id:"what-is-a-global-api",children:"What is a global API?"}),"\n",(0,s.jsx)(n.p,{children:"The global API is a set of functions that can be accessed from any script within your game. This is more efficient than having to create a new API for each script that needs to access the same data."}),"\n",(0,s.jsx)(n.h3,{id:"how-do-i-use-a-global-api",children:"How do I use a global API?"}),"\n",(0,s.jsx)(n.p,{children:"Our global API is located withing Roblox's 'ServerStorage' service. You can find it by using the 'getGlobalsForKey' method from the Vibez module. This method will return the global API associated to that api key."}),"\n",(0,s.jsx)(n.h3,{id:"is-there-an-easier-method-to-fetching-the-global-api",children:"Is there an easier method to fetching the global API?"}),"\n",(0,s.jsxs)(n.p,{children:["Yes! If your script has direct access to the module, you can use ",(0,s.jsx)(n.code,{children:".getGlobalsForKey(ApiKey)"})," to get your api key's specific global API."]}),"\n",(0,s.jsx)(n.h3,{id:"it-doesnt-exist-when-trying-to-lookup-my-api-key-within-serverstorage",children:"It doesn't exist when trying to lookup my api key within ServerStorage."}),"\n",(0,s.jsx)(n.p,{children:"This is completely normal and is not a bug. Due to the way we store the global API, it would not be smart to name the folder after your api key. Instead, we generate a new GUID (Globally Unique Identifier) for each specific key."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'local Vibez = require(14946453963)\r\nlocal globalsAPI = Vibez.getGlobalsForKey("myApiKey")\n'})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"what-global-apis-are-available",children:"What global APIs are available?"}),"\n",(0,s.jsx)(n.h3,{id:"ranking",children:"Ranking"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)("a",{href:"#ranking/promote",children:(0,s.jsx)("h3",{children:"Promote"})}),"\r\nIncrements a player's rank by 1."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"userId: number"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",metastring:'title="ServerScriptService/ExampleScript.server.lua"',children:"globalsAPI.Ranking.Promote:Invoke(1)\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)("a",{href:"#ranking/demote",children:(0,s.jsx)("h3",{children:"Demote"})}),"\r\nDecrements a player's rank by 1."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"userId: number"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"globalsAPI.Ranking.Demote:Invoke(1)\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)("a",{href:"#ranking/fire",children:(0,s.jsx)("h3",{children:"Fire"})}),"\r\nSets the player's rank back to 1."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"userId: number"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"globalsAPI.Ranking.Fire:Invoke(1)\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)("a",{href:"#ranking/setrank",children:(0,s.jsx)("h3",{children:"setRank"})}),"\r\nSets a player's rank to a specific rank."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"userId: number"})," ",(0,s.jsx)("br",{}),"\r\n",(0,s.jsx)(n.code,{children:"rank: number | string"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"globalsAPI.Ranking.setRank:Invoke(1, 2)\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"activitytracker",children:"ActivityTracker"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)("a",{href:"#activity/get",children:(0,s.jsx)("h3",{children:"Fetch"})}),"\r\nGets the activity of a player."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"userId: number"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"globalsAPI.ActivityTracker.Fetch:Invoke(1)\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)("a",{href:"#activity/save",children:(0,s.jsx)("h3",{children:"Save"})}),"\r\nGets the activity of a player."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"userId: number"})," ",(0,s.jsx)("br",{}),"\r\n",(0,s.jsx)(n.code,{children:"userRank: number"})," ",(0,s.jsx)("br",{}),"\r\n",(0,s.jsx)(n.code,{children:"seconds: number"})," ",(0,s.jsx)("br",{}),"\r\n",(0,s.jsx)(n.code,{children:"messages: number"})," ",(0,s.jsx)("br",{}),"\r\n",(0,s.jsx)(n.code,{children:"forceFetchRank: boolean"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"globalsAPI.ActivityTracker.Save:Invoke(1, 0, 20, 0, false)\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)("a",{href:"#activity/delete",children:(0,s.jsx)("h3",{children:"Delete"})}),"\r\nGets the activity of a player."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"userId: number"})," ",(0,s.jsx)("br",{}),"\r\n",(0,s.jsx)(n.code,{children:"userRank: number"})," ",(0,s.jsx)("br",{}),"\r\n",(0,s.jsx)(n.code,{children:"seconds: number"})," ",(0,s.jsx)("br",{}),"\r\n",(0,s.jsx)(n.code,{children:"messages: number"})," ",(0,s.jsx)("br",{}),"\r\n",(0,s.jsx)(n.code,{children:"forceFetchRank: boolean"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"globalsAPI.ActivityTracker.Save:Invoke(1, 0, 20, 0, false)\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"hooks",children:"Hooks"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)("a",{href:"#hooks/create",children:(0,s.jsx)("h3",{children:"Create"})}),"\r\nCreates a new webhook."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"webhook: string"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'globalsAPI.Hooks.Create:Invoke("https://discord.com/api/webhooks/")\n'})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"notifications",children:"Notifications"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)("a",{href:"#notifications/send",children:(0,s.jsx)("h3",{children:"Send"})}),"\r\nSend a notification to the player. Please note that there are specific keywords that are used to color code the notification messages. Please visit ",(0,s.jsx)(n.a,{href:"/docs/Features/Notifications",children:"this page"})," to see the full list of keywords."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"player: Player"})," ",(0,s.jsx)("br",{}),"\r\n",(0,s.jsx)(n.code,{children:"message: string"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'globalsAPI.Notifications.Send:Invoke(game.Players.ltsRune, "Hello World!")\n'})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"general",children:"General"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)("a",{href:"#general/getgroup",children:(0,s.jsx)("h3",{children:"getGroup"})}),"\r\nGets a group from the player's perspective."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"player: Player"})," ",(0,s.jsx)("br",{}),"\r\n",(0,s.jsx)(n.code,{children:"groupId: number"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"globalsAPI.General.getGroup:Invoke(game.Players.ltsRune, 0)\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)("a",{href:"#general/getgrouprank",children:(0,s.jsx)("h3",{children:"getGroupRank"})}),"\r\nGets a player's group rank."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"player: Player"})," ",(0,s.jsx)("br",{}),"\r\n",(0,s.jsx)(n.code,{children:"groupId: number"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"globalsAPI.General.getGroupRank:Invoke(game.Players.ltsRune, 0)\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)("a",{href:"#general/getgrouprole",children:(0,s.jsx)("h3",{children:"getGroupRole"})}),"\r\nGets a player's group role."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"player: Player"})," ",(0,s.jsx)("br",{}),"\r\n",(0,s.jsx)(n.code,{children:"groupId: number"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"globalsAPI.General.getGroupRole:Invoke(game.Players.ltsRune, 0)\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"blacklists",children:"Blacklists"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)("a",{href:"#blacklists/get",children:(0,s.jsx)("h3",{children:"Get"})}),"\r\nGets a player's blacklist information."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"player: Player | string | number"})," ",(0,s.jsx)("br",{})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"globalsAPI.Blacklists.Get:Invoke(game.Players.ltsRune)\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)("a",{href:"#blacklists/add",children:(0,s.jsx)("h3",{children:"Add"})}),"\r\nAdds a player to the blacklist."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"userToBlacklist: Player"})," ",(0,s.jsx)("br",{}),"\r\n",(0,s.jsx)(n.code,{children:"Reason: string?"})," ",(0,s.jsx)("br",{}),"\r\n",(0,s.jsx)(n.code,{children:"blacklistExecutedBy: (Player | string | number)?"})," ",(0,s.jsx)("br",{})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"globalsAPI.Blacklists.Add:Invoke(game.Players.ltsRune)\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)("a",{href:"#blacklists/delete",children:(0,s.jsx)("h3",{children:"Delete"})}),"\r\nDeletes a player from being blacklisted."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"player: Player | string | number"})," ",(0,s.jsx)("br",{})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"globalsAPI.Blacklists.Delete:Invoke(game.Players.ROBLOX)\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"examples",children:"Examples"}),"\n",(0,s.jsx)(n.p,{children:"Here are some examples of how you can use our global APIs:"}),"\n",(0,s.jsxs)(r,{children:[(0,s.jsx)("summary",{children:"Welcome Message"}),(0,s.jsx)("br",{}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",metastring:'title="ServerScriptService/Welcome_Message.lua"',children:'local function onPlayerAdded(Player: Player)\r\n    local vibezGlobal = _G["VibezApi"]\r\n\r\n    while vibezGlobal == nil do\r\n        vibezGlobal = _G["VibezApi"]\r\n        task.wait(.25)\r\n    end\r\n\r\n    vibezGlobal.Notifications.new:Invoke(Player, "Welcome to the game!")\r\nend\r\n\r\ngame:GetService("Players").PlayerAdded:Connect(onPlayerAdded)\n'})})]}),"\n",(0,s.jsxs)(r,{children:[(0,s.jsx)("summary",{children:"Join and Leave logger"}),(0,s.jsx)("br",{}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",metastring:'title="ServerScriptService/Join_Logger_And_Leave_Logger.lua"',children:'local Players = game:GetService("Players")\r\n\r\nlocal function onPlayerAdded(Player: Player)\r\n    local vibezGlobal = _G["VibezApi"]\r\n\r\n    while vibezGlobal == nil do\r\n        vibezGlobal = _G["VibezApi"]\r\n        task.wait(.25)\r\n    end\r\n\r\n    local webHook = vibezGlobal.Hooks.new:Invoke("https://discord.com/api/webhooks/")\r\n    webHook\r\n        :setContent(\r\n            string.format(\r\n                "[**%s**](<https://www.roblox.com/users/%d/profile>) has joined the game!",\r\n                Player.Name,\r\n                Player.UserId\r\n            )\r\n        )\r\n        :Send()\r\nend\r\n\r\nlocal function onPlayerLeft(Player: Player)\r\n    local vibezGlobal = _G["VibezApi"]\r\n\r\n    while vibezGlobal == nil do\r\n        vibezGlobal = _G["VibezApi"]\r\n        task.wait(.25)\r\n    end\r\n\r\n    local webHook = vibezGlobal.Hooks.new:Invoke("https://discord.com/api/webhooks/")\r\n    webHook\r\n        :setContent(\r\n            string.format(\r\n                "[**%s**](<https://www.roblox.com/users/%d/profile>) has left the game!",\r\n                Player.Name,\r\n                Player.UserId\r\n            )\r\n        )\r\n        :Send()\r\nend\r\n\r\nPlayers.PlayerAdded:Connect(onPlayerAdded)\r\nPlayers.PlayerRemoving:Connect(onPlayerLeft)\n'})})]})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},28453:(e,n,r)=>{r.d(n,{R:()=>i,x:()=>o});var l=r(96540);const s={},a=l.createContext(s);function i(e){const n=l.useContext(a);return l.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),l.createElement(a.Provider,{value:n},e.children)}}}]);