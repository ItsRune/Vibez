"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[7263],{3905:(e,t,n)=>{n.d(t,{Zo:()=>s,kt:()=>k});var a=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var d=a.createContext({}),m=function(e){var t=a.useContext(d),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},s=function(e){var t=m(e.components);return a.createElement(d.Provider,{value:t},e.children)},c="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,d=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),c=m(n),u=r,k=c["".concat(d,".").concat(u)]||c[u]||p[u]||o;return n?a.createElement(k,i(i({ref:t},s),{},{components:n})):a.createElement(k,i({ref:t},s))}));function k(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=u;var l={};for(var d in t)hasOwnProperty.call(t,d)&&(l[d]=t[d]);l.originalType=e,l[c]="string"==typeof e?e:r,i[1]=l;for(var m=2;m<o;m++)i[m]=n[m];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},81732:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>i,default:()=>p,frontMatter:()=>o,metadata:()=>l,toc:()=>m});var a=n(87462),r=(n(67294),n(3905));const o={sidebar_position:3},i=void 0,l={unversionedId:"Features/Commands/Command Operation Codes",id:"Features/Commands/Command Operation Codes",title:"Command Operation Codes",description:"Note: This is considered an advanced tutorial, if you don't understand lua/luau, I would not recommend attempting to create your own operations!",source:"@site/docs/Features/Commands/Command Operation Codes.md",sourceDirName:"Features/Commands",slug:"/Features/Commands/Command Operation Codes",permalink:"/VibezAPI/docs/Features/Commands/Command Operation Codes",draft:!1,editUrl:"https://github.com/ItsRune/VibezAPI/edit/master/docs/Features/Commands/Command Operation Codes.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"defaultSidebar",previous:{title:"Adding Commands",permalink:"/VibezAPI/docs/Features/Commands/Adding Commands"},next:{title:"Activity",permalink:"/VibezAPI/docs/Features/Examples/Activity"}},d={},m=[{value:"What are command operation codes?",id:"what-are-command-operation-codes",level:3},{value:"Default Codes",id:"default-codes",level:3},{value:"How do they work?",id:"how-do-they-work",level:3},{value:"How to use",id:"how-to-use",level:3},{value:"How to remove operation codes",id:"how-to-remove-operation-codes",level:3}],s={toc:m},c="wrapper";function p(e){let{components:t,...n}=e;return(0,r.kt)(c,(0,a.Z)({},s,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Note: This is considered an advanced tutorial, if you don't understand lua/luau, I would not recommend attempting to create your own operations!")),(0,r.kt)("h3",{id:"what-are-command-operation-codes"},"What are command operation codes?"),(0,r.kt)("p",null,"Command operation codes are ",(0,r.kt)("inlineCode",{parentName:"p"},"shorteners")," that allow you to use less characters when sending commands to the API. For example, instead of saying ",(0,r.kt)("inlineCode",{parentName:"p"},'game.Teams["myTeam"]')," as a command argument, you can send ",(0,r.kt)("inlineCode",{parentName:"p"},"#myTeam"),". Operation codes can be anything you'd like, as long as they don't conflict with any other operation codes. We'd also recommend not using ",(0,r.kt)("inlineCode",{parentName:"p"},"commas")," as your operation code, as it will conflict with the command argument separator."),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"default-codes"},"Default Codes"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"center"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Code"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},"Team"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"%")),(0,r.kt)("td",{parentName:"tr",align:"left"},"Checks for a given team name")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},"Rank"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"r:")),(0,r.kt)("td",{parentName:"tr",align:"left"},"Checks the player's rank with a tolerance")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},"shortenedUsername"),(0,r.kt)("td",{parentName:"tr",align:"center"},"None"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Checks for a portion of a player's username")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},"External"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"e:")),(0,r.kt)("td",{parentName:"tr",align:"left"},"Gets a player that is not in the server")))),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"how-do-they-work"},"How do they work?"),(0,r.kt)("p",null,"Command operations work by first splitting the sent command, then checking if the first argument is an operation code. If it is, it will run the operation code function and return the result. If it isn't, it will return the command argument as is. For example, if you sent ",(0,r.kt)("inlineCode",{parentName:"p"},"%myTeam")," as a command argument, it would split the command into ",(0,r.kt)("inlineCode",{parentName:"p"},"%")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"myTeam"),". It would then check if ",(0,r.kt)("inlineCode",{parentName:"p"},"%")," is an operation code, and if it is, it will run the operation code function and return the result. If it isn't, it will return the command argument as is."),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"how-to-use"},"How to use"),(0,r.kt)("p",null,"To create a new operation code, you'll use the ",(0,r.kt)("inlineCode",{parentName:"p"},":addCommandOperation")," method. This method takes ",(0,r.kt)("strong",{parentName:"p"},"three arguments"),": the operation name, the operation prefix, and the operation function. The operation function must return a ",(0,r.kt)("inlineCode",{parentName:"p"},"boolean")," value, if it does not the operation will not work."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-lua"},'local VibezAPI = require(14946453963)("myApiKey")\n\nVibezAPI:addCommandOperation("Rank", "r:", function(playerToCheck: Player, incomingArgument: string)\n    -- Operation code is automatically removed from the \'incomingArgument\'.\n    -- incomeArgument would look something like this: "3:<="\n    local rank, tolerance = table.unpack(string.split(incomingArgument, ":"))\n    \n    -- Make sure the rank is a number.\n    if not tonumber(rank) then\n        return false\n    end\n\n    -- Make sure the tolerance is a valid tolerance.\n    tolerance = tolerance or "<="\n\n    -- Convert \'rank\' to a number.\n    rank = tonumber(rank)\n\n    -- \'GetRankInGroup\' caches when it\'s first called, this will not update if their rank changes.\n    local isOk, currentPlayerRank = pcall(\n        playerToCheck.GetRankInGroup,\n        playerToCheck,\n        rank\n    )\n    \n    -- Make sure the player is in the group and their rank was fetched.\n    if not isOk or currentPlayerRank == 0 then\n        return false\n    end\n\n    -- Check the tolerances\n    if tolerance == "<=" then\n        return currentPlayerRank <= rank\n    elseif tolerance == ">=" then\n        return currentPlayerRank >= rank\n    elseif tolerance == "<" then\n        return currentPlayerRank < rank\n    elseif tolerance == ">" then\n        return currentPlayerRank > rank\n    elseif tolerance == "==" then\n        return currentPlayerRank == rank\n    end\n\n    -- If the tolerance is invalid, return false.\n    return false\nend)\n')),(0,r.kt)("p",null,"Now, you can use the operation code in your commands: ",(0,r.kt)("inlineCode",{parentName:"p"},"!promote r:3:<=")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"how-to-remove-operation-codes"},"How to remove operation codes"),(0,r.kt)("p",null,"To remove an operation code, you'll use the ",(0,r.kt)("inlineCode",{parentName:"p"},":removeCommandOperation")," method. This method takes ",(0,r.kt)("strong",{parentName:"p"},"one argument"),": the operation name. If you don't like how one operation code performs that was made by us, you can simply remove it."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-lua"},'VibezAPI:removeCommandOperation("Rank") -- Removes the default rank operation code.\n')))}p.isMDXComponent=!0}}]);