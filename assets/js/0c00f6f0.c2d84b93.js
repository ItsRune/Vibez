"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[859],{3905:(e,t,a)=>{a.d(t,{Zo:()=>u,kt:()=>g});var n=a(67294);function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){l(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,n,l=function(e,t){if(null==e)return{};var a,n,l={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(l[a]=e[a]);return l}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(l[a]=e[a])}return l}var s=n.createContext({}),p=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},u=function(e){var t=p(e.components);return n.createElement(s.Provider,{value:t},e.children)},c="mdxType",k={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var a=e.components,l=e.mdxType,r=e.originalType,s=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),c=p(a),d=l,g=c["".concat(s,".").concat(d)]||c[d]||k[d]||r;return a?n.createElement(g,o(o({ref:t},u),{},{components:a})):n.createElement(g,o({ref:t},u))}));function g(e,t){var a=arguments,l=t&&t.mdxType;if("string"==typeof e||l){var r=a.length,o=new Array(r);o[0]=d;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i[c]="string"==typeof e?e:l,o[1]=i;for(var p=2;p<r;p++)o[p]=a[p];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}d.displayName="MDXCreateElement"},59812:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>k,frontMatter:()=>r,metadata:()=>i,toc:()=>p});var n=a(87462),l=(a(67294),a(3905));const r={sidebar_position:6},o="Global API",i={unversionedId:"Features/Global",id:"Features/Global",title:"Global API",description:"What is a global API?",source:"@site/docs/Features/Global.md",sourceDirName:"Features",slug:"/Features/Global",permalink:"/VibezAPI/docs/Features/Global",draft:!1,editUrl:"https://github.com/ItsRune/VibezAPI/edit/master/docs/Features/Global.md",tags:[],version:"current",sidebarPosition:6,frontMatter:{sidebar_position:6},sidebar:"defaultSidebar",previous:{title:"Notifications",permalink:"/VibezAPI/docs/Features/Notifications"},next:{title:"Binding Actions",permalink:"/VibezAPI/docs/Features/Binding Actions"}},s={},p=[{value:"What is a global API?",id:"what-is-a-global-api",level:3},{value:"How do I use a global API?",id:"how-do-i-use-a-global-api",level:3},{value:"Is there an easier method to fetching the global API?",id:"is-there-an-easier-method-to-fetching-the-global-api",level:3},{value:"It doesn&#39;t exist when trying to lookup my api key within ServerStorage.",id:"it-doesnt-exist-when-trying-to-lookup-my-api-key-within-serverstorage",level:3},{value:"What global APIs are available?",id:"what-global-apis-are-available",level:2},{value:"Ranking",id:"ranking",level:3},{value:"Activity",id:"activity",level:3},{value:"Hooks",id:"hooks",level:3},{value:"Notifications",id:"notifications",level:3},{value:"General",id:"general",level:3},{value:"Examples",id:"examples",level:2}],u={toc:p},c="wrapper";function k(e){let{components:t,...a}=e;return(0,l.kt)(c,(0,n.Z)({},u,a,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("h1",{id:"global-api"},"Global API"),(0,l.kt)("h3",{id:"what-is-a-global-api"},"What is a global API?"),(0,l.kt)("p",null,"The global API is a set of functions that can be accessed from any script within your game. This is more efficient than having to create a new API for each script that needs to access the same data."),(0,l.kt)("h3",{id:"how-do-i-use-a-global-api"},"How do I use a global API?"),(0,l.kt)("p",null,"Our global API is located withing Roblox's 'ServerStorage' service. You can find it by using the 'getGlobalsForKey' method from the Vibez module. This method will return the global API associated to that api key."),(0,l.kt)("h3",{id:"is-there-an-easier-method-to-fetching-the-global-api"},"Is there an easier method to fetching the global API?"),(0,l.kt)("p",null,"Yes! If your script has direct access to the module, you can use ",(0,l.kt)("inlineCode",{parentName:"p"},".getGlobalsForKey(ApiKey)")," to get your api key's specific global API."),(0,l.kt)("h3",{id:"it-doesnt-exist-when-trying-to-lookup-my-api-key-within-serverstorage"},"It doesn't exist when trying to lookup my api key within ServerStorage."),(0,l.kt)("p",null,"This is completely normal and is not a bug. Due to the way we store the global API, it would not be smart to name the folder after your api key. Instead, we generate a new GUID (Globally Unique Identifier) for each specific key."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-lua"},'local Vibez = require(14946453963)\nlocal globalsAPI = Vibez.getGlobalsForKey("myApiKey")\n')),(0,l.kt)("hr",null),(0,l.kt)("h2",{id:"what-global-apis-are-available"},"What global APIs are available?"),(0,l.kt)("h3",{id:"ranking"},"Ranking"),(0,l.kt)("a",{href:"#ranking/promote"},(0,l.kt)("h3",null,"Promote")),"Increments a player's rank by 1.",(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"userId: number")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-lua",metastring:'title="ServerScriptService/ExampleScript.server.lua"',title:'"ServerScriptService/ExampleScript.server.lua"'},"globalsAPI.Ranking.Promote:Invoke(1)\n")),(0,l.kt)("a",{href:"#ranking/demote"},(0,l.kt)("h3",null,"Demote")),"Decrements a player's rank by 1.",(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"userId: number")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-lua"},"globalsAPI.Ranking.Demote:Invoke(1)\n")),(0,l.kt)("a",{href:"#ranking/setrank"},(0,l.kt)("h3",null,"setRank")),"Sets a player's rank to a specific rank.",(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"userId: number")," ",(0,l.kt)("br",null),"\n",(0,l.kt)("inlineCode",{parentName:"p"},"rank: number | string")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-lua"},"globalsAPI.Ranking.setRank:Invoke(1, 2)\n")),(0,l.kt)("hr",null),(0,l.kt)("h3",{id:"activity"},"Activity"),(0,l.kt)("a",{href:"#activity/get"},(0,l.kt)("h3",null,"getActivity")),"Gets the activity of a player.",(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"userId: number")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-lua"},"globalsAPI.Activity.Fetch:Invoke(1)\n")),(0,l.kt)("a",{href:"#activity/save"},(0,l.kt)("h3",null,"saveActivity")),"Gets the activity of a player.",(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"userId: number")," ",(0,l.kt)("br",null),"\n",(0,l.kt)("inlineCode",{parentName:"p"},"userRank: number")," ",(0,l.kt)("br",null),"\n",(0,l.kt)("inlineCode",{parentName:"p"},"seconds: number")," ",(0,l.kt)("br",null),"\n",(0,l.kt)("inlineCode",{parentName:"p"},"messages: number")," ",(0,l.kt)("br",null),"\n",(0,l.kt)("inlineCode",{parentName:"p"},"forceFetchRank: boolean")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-lua"},"globalsAPI.Activity.Save:Invoke(1, 0, 20, 0, false)\n")),(0,l.kt)("hr",null),(0,l.kt)("h3",{id:"hooks"},"Hooks"),(0,l.kt)("a",{href:"#hooks/new"},(0,l.kt)("h3",null,"new")),"Creates a new webhook.",(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"webhook: string")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-lua"},'globalsAPI.Hooks:Invoke("https://discord.com/api/webhooks/")\n')),(0,l.kt)("hr",null),(0,l.kt)("h3",{id:"notifications"},"Notifications"),(0,l.kt)("a",{href:"#notifications/new"},(0,l.kt)("h3",null,"new")),"Creates a notification for a player.",(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"player: Player")," ",(0,l.kt)("br",null),"\n",(0,l.kt)("inlineCode",{parentName:"p"},"message: string")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-lua"},'globalsAPI.Notifications:Invoke(game.Players.ltsRune, "Hello World!")\n')),(0,l.kt)("hr",null),(0,l.kt)("h3",{id:"general"},"General"),(0,l.kt)("a",{href:"#general/getgroup"},(0,l.kt)("h3",null,"getGroup")),"Gets a group from the player's perspective.",(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"player: Player")," ",(0,l.kt)("br",null),"\n",(0,l.kt)("inlineCode",{parentName:"p"},"groupId: number")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-lua"},"globalsAPI.General.getGroup:Invoke(game.Players.ltsRune, 0)\n")),(0,l.kt)("a",{href:"#general/getgrouprank"},(0,l.kt)("h3",null,"getGroupRank")),"Gets a player's group rank.",(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"player: Player")," ",(0,l.kt)("br",null),"\n",(0,l.kt)("inlineCode",{parentName:"p"},"groupId: number")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-lua"},"globalsAPI.General.getGroupRank:Invoke(game.Players.ltsRune, 0)\n")),(0,l.kt)("a",{href:"#general/getgrouprole"},(0,l.kt)("h3",null,"getGroupRole")),"Gets a player's group role.",(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"player: Player")," ",(0,l.kt)("br",null),"\n",(0,l.kt)("inlineCode",{parentName:"p"},"groupId: number")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-lua"},"globalsAPI.General.getGroupRole:Invoke(game.Players.ltsRune, 0)\n")),(0,l.kt)("hr",null),(0,l.kt)("h2",{id:"examples"},"Examples"),(0,l.kt)("p",null,"Here are some examples of how you can use our global APIs:"),(0,l.kt)("details",null,(0,l.kt)("summary",null,"Welcome Message"),(0,l.kt)("br",null),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-lua",metastring:'title="ServerScriptService/Welcome_Message.lua"',title:'"ServerScriptService/Welcome_Message.lua"'},'local function onPlayerAdded(Player: Player)\n    local vibezGlobal = _G["VibezApi"]\n\n    while vibezGlobal == nil do\n        vibezGlobal = _G["VibezApi"]\n        task.wait(.25)\n    end\n\n    vibezGlobal.Notifications.new:Invoke(Player, "Welcome to the game!")\nend\n\ngame:GetService("Players").PlayerAdded:Connect(onPlayerAdded)\n'))),(0,l.kt)("details",null,(0,l.kt)("summary",null,"Join and Leave logger"),(0,l.kt)("br",null),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-lua",metastring:'title="ServerScriptService/Join_Logger_And_Leave_Logger.lua"',title:'"ServerScriptService/Join_Logger_And_Leave_Logger.lua"'},'local Players = game:GetService("Players")\n\nlocal function onPlayerAdded(Player: Player)\n    local vibezGlobal = _G["VibezApi"]\n\n    while vibezGlobal == nil do\n        vibezGlobal = _G["VibezApi"]\n        task.wait(.25)\n    end\n\n    local webHook = vibezGlobal.Hooks.new:Invoke("https://discord.com/api/webhooks/")\n    webHook\n        :setContent(\n            string.format(\n                "[**%s**](<https://www.roblox.com/users/%d/profile>) has joined the game!",\n                Player.Name,\n                Player.UserId\n            )\n        )\n        :Send()\nend\n\nlocal function onPlayerLeft(Player: Player)\n    local vibezGlobal = _G["VibezApi"]\n\n    while vibezGlobal == nil do\n        vibezGlobal = _G["VibezApi"]\n        task.wait(.25)\n    end\n\n    local webHook = vibezGlobal.Hooks.new:Invoke("https://discord.com/api/webhooks/")\n    webHook\n        :setContent(\n            string.format(\n                "[**%s**](<https://www.roblox.com/users/%d/profile>) has left the game!",\n                Player.Name,\n                Player.UserId\n            )\n        )\n        :Send()\nend\n\nPlayers.PlayerAdded:Connect(onPlayerAdded)\nPlayers.PlayerRemoving:Connect(onPlayerLeft)\n'))))}k.isMDXComponent=!0}}]);